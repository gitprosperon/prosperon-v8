{% extends 'Students/anytime-decisions/anytime_decision_step2.html' %}
{% load static %}

{% block anytimeTitle %}
    {{ ad.title }}
{% endblock %}

{% block anytimeD %}
{% if id == '2' %}

 <body class="body-2">
  <div class="fullpage-wrapper">


        <div id="all-bank-account-wrapper" class="bank-accounts _40-padding-container">
          <div class="_40-bottom">
            <h1 class="_36-bold light">Compare the best starter checking accounts in the <span class="text-span-2">&quot;United States&quot;</span></h1>
          </div>
          <div class="_30-top">
            <div class="w-layout-grid bank-accounts-grid">
                {% for account in bank_accounts %}
                <div class="bank-account-wrapper top" style="justify-items: center">
                <div class="div-block-131">
                  <div class="div-block-135" style="width: 300px; display: flex">
                   <div>
                    <div class="div-block-129 credit"><img src="../../../media/{{ account.bank_img }}" loading="lazy" width="80" alt=""></div>
                   </div>
                      <div style="display: flex; align-items: center">
                      <h4 class="heading-34" style="width: 200px; font-size: 18px">{{ account.title }}</h4>
                      </div>
                  </div>
                </div>

                <div class="div-block-128" style="width: 150px; margin-top: 0px; cursor: pointer">
                  <div class="create-graph">
                    <div class="" onclick="showBankAccount('{{ account.title }}', '{{ account.apy }}', '{{ account.bank_Yearly_Fee }}', '{{ account.bank_ATM_Fee }}', '{{ account.bank_Account_Description }}', '{{ account.bank_feature1 }}', '{{ account.bank_feature2 }}', '{{ account.bank_feature3 }}', '{{ account.bank_feature4 }}', '{{ account.bank_signup_fee }}', '{{ account.bank_img }}')">Show Details</div>
                  </div>
                  </div>
              </div>
                {% endfor %}


            </div>
          </div>
        </div>

        <div id="bankAccountPopUp" class="w-node-_1ec6b8d4-8954-2eda-b421-883a183f00b4-fbe61579" style="display: none;">
          <div class="_40-padding-container white percent-change">
            <div class="_20-bottom">
              <h1 class="_24px-2 semibold _20-left" id="bank-account-name">Bank Name</h1>
              <div><img src="https://d3e54v103j8qbb.cloudfront.net/plugins/Basic/assets/placeholder.60f9b1840c.svg" id="bank-img" loading="lazy" alt=""></div>
            </div>
            <div>
              <div>
                <h1 class="_18 semibold centered-text">General Information</h1>
              </div>
              <div class="_10-top horizontal">
                <div class="w-layout-grid grid-23" style="-ms-grid-column: 1fr 1fr 1fr; grid-template-columns: 1.75fr 1.75fr 1.75fr">
                  <div id="w-node-_2ebce160-23b2-b95f-bbfd-fc591c3e4565-fbe61579" class="apartment-info-wrapper _10-padding">
                    <div id="w-node-_40e944fe-9d38-2d22-134b-6fdf53d9f49e-fbe61579" class="apartment-breakdown-titles">APY</div>
                    <div class="apartment-breakdown-titles _5-top"><span id="apy">1.1</span>%</div>
                  </div>
                  <div id="w-node-_531aa455-c1e7-ed2b-77cb-d34227f74879-fbe61579" class="apartment-info-wrapper _10-padding">
                    <div id="w-node-_531aa455-c1e7-ed2b-77cb-d34227f7487a-fbe61579" class="apartment-breakdown-titles">Yearly Fee</div>
                    <div class="apartment-breakdown-titles _5-top"><span>$</span><span id="bankYearlyFee">0</span></div>
                  </div>
                  <div id="w-node-_95a3d334-08e8-3b91-27ae-0873f863c421-fbe61579" class="apartment-info-wrapper _10-padding">
                    <div id="w-node-_95a3d334-08e8-3b91-27ae-0873f863c422-fbe61579" class="apartment-breakdown-titles">ATM Fee</div>
                    <div class="apartment-breakdown-titles _5-top"><span>$</span><span id="BankAtmFee">2.50</span></div>
                  </div>
                </div>
              </div>
              <div class="description _10-top">
                <h1 class="_18 semibold">Description<span></span></h1>
                <div class="_18-poppins _5-top" id="bankAccountDescription">&quot;Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa </div>

              </div>
            </div>
             <h1 class="_18 semibold _10-top" style="margin-bottom: 0px">Features<span></span></h1>
              <div class="_10-top horizontal">

              <div class="div-block-136"></div>
              <div class="_18-poppins _10-left semibold">Feature 1:</div>
              <div class="_18-poppins _10-left" id="bankFeature1">feature 1</div>
            </div>
            <div class="_10-top horizontal">
              <div class="div-block-136"></div>
              <div class="_18-poppins _10-left semibold">Feature 2:</div>
              <div class="_18-poppins _10-left" id="bankFeature2">feature 2</div>
            </div>
            <div class="_10-top horizontal">
              <div class="div-block-136"></div>
              <div class="_18-poppins _10-left semibold">Feature 3:</div>
              <div class="_18-poppins _10-left" id="bankFeature3">feature 3</div>
            </div>
            <div class="_10-top horizontal">
              <div class="div-block-136"></div>
              <div class="_18-poppins _10-left semibold">Feature 4:</div>
              <div class="_18-poppins _10-left" id="bankFeature4">feature 4</div>
            </div>
            <div class="button-wrapper bottom-spacing listing">
              <div class="back-btn" onclick="backToBankAccount()" style="cursor: pointer; width: auto">
                <div class="" onclick="backToBankAccount()" style="width: auto">Back to cards</div>
              </div>

            </div>
          </div>
        </div>
      </div>


</body>


{% endif %}
{% endblock %}

{% block bottomButtons %}
    {% if id == '2' %}
    <div class="button-wrapper bottom-spacing">
        <a href="/{{ ad.back_btn_link }}" style="text-decoration: none">
        <div class="back-btn" id="backBtn">
            <div class="" id="backBtn">Back</div>
        </div>
        </a>
        <form method="post">
            {% csrf_token %}
            <input type="hidden"  id="effect-cost-now-input" name="cost-now" value="1">
            <input type="hidden"  id="effect-monthly-cost-input" name="cost-later" value="2">
            <input type="hidden"  id="anytime-transaction-title" name="transactiontitle" value="Bank Payment">

            <a href="{% url 'Students:anytime-handeler' id %}" style="text-decoration: none">
                <button type="button" id="applyBtn" class="next-btn" style="display: none">Apply</button>
            </a>
        </form>
    </div>
    {% endif %}

<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'students/js/anytime-decision-script.js' %}" type="text/javascript"></script>

<script>


function addAccount() {
    console.log('add account')
    var bankName = document.getElementById('bank-account-name').innerText
    var bankImage = document.getElementById('bank-img').src
    var apy = document.getElementById('apy').innerText
    var yearlyFee = document.getElementById('bankYearlyFee').innerText
    var atmFee = document.getElementById('BankAtmFee').innerText
    var description = document.getElementById('bankAccountDescription').innerText
    var bankFeature1 = document.getElementById('bankFeature1').innerText
    var bankFeature2 = document.getElementById('bankFeature2').innerText
    var bankFeature3 = document.getElementById('bankFeature3').innerText
    var bankFeature4 = document.getElementById('bankFeature4').innerText

    $.ajax({
        type: "POST",
        url: '/university/add-account',
        data: {
            csrfmiddlewaretoken: '{{csrf_token}}',
            action: "post",
            cardType: 'BankAccount',
            bankName: bankName,
            image: bankImage,
            apy: apy,
            yearlyFee: yearlyFee,
            atmFee: atmFee,
            description: description,
            bankFeature1: bankFeature1,
            bankFeature2: bankFeature2,
            bankFeature3: bankFeature3,
            bankFeature4: bankFeature4

        }
    })
}

document.getElementById('applyBtn').addEventListener('click', addAccount)



</script>



<script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="{% static 'students/js/anytime-decision-script.js' %}" type="text/javascript"></script>
{% endblock %}